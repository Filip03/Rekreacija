<div class="profile-page-wrapper">

  <div class="profile-container">
    <div class="profile-header">
      <div class="profile-avatar">
        <div [innerHTML]="userAvatarSvg"></div>
      </div>
    </div>
    <div class="profile-body">
      <div *ngIf="isLoading" class="loading-spinner">Učitavanje podataka...</div>

      <div *ngIf="!isLoading && user">
        <!-- Nepromenljivi podaci -->
        <div class="info-group">
          <label>Ime:</label>
          <input type="text" [value]="user?.name" readonly>
        </div>
        <div class="info-group">
          <label>Prezime:</label>
          <input type="text" [value]="user?.surname" readonly>
        </div>
        <div class="info-group">
          <label>Email:</label>
          <input type="text" [value]="user?.email" readonly>
        </div>
        <div class="info-group">
          <label>Datum registracije:</label>
          <input type="text" [value]="user?.date_of_registration | date:'dd.MM.yyyy'" readonly>
        </div>

        <hr>

        <!-- Forma za izmenu -->
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <h3>Izmenite podatke</h3>
          <div class="form-group">
            <label for="username">Korisničko ime:</label>
            <input id="username" type="text" formControlName="username">
          </div>
          <div class="form-group">
            <label for="phone">Broj telefona:</label>
            <input id="phone" type="text" formControlName="phone_number">
          </div>

          <!-- Glavno dugme stranice -->
          <button type="submit" class="btn btn-primary" [disabled]="!profileForm.valid || !profileForm.dirty">
            Sačuvaj izmene
          </button>
        </form>
      </div>
    </div>

  </div>
</div>